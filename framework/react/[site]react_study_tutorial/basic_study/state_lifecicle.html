<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <script src="https://unpkg.com/react@16/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
    
    <!-- Don't use this in production: -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <title>Document</title>
</head>
<body>
    <div id="root"></div>
    <div id="root2"></div>
    <div id="root3"></div>
    <div id="root4"></div>
    <div id="root5"></div>

    <script type="text/babel">
    
          function tick(){
            const element = (
                <div>
                    <h1>Hello, world!</h1>
                    <h2>It is {new Date().toLocaleTimeString()}</h2>
                </div>
            )
            ReactDOM.render(element, document.getElementById('root'));
        };
        // setInterval(tick, 1000);



        function Clock(props) {
            return (
                <div>
                    <h1>Hello, world!</h1>
                    <h2>It is {props.date.toLocaleTimeString()}.</h2>
                </div>
            );
        }

        function tick2() {
            ReactDOM.render(
                <Clock date={new Date()} />,
                document.getElementById('root2')
            )
        }
        // setInterval(tick2, 1000);


        class Clock3 extends React.Component {
            constructor(props) {
                super(props);
                this.state = {date: new Date()};
                // this.state = {
                //     posts: [],
                //     comments: []
                // }
            }

            componentDidMount() {
                this.timerID = setInterval(
                    () => this.tick(),
                    1000
                );

                // fetchPosts().then(response => {
                //     this.setState({
                //         posts:response.posts
                //     });
                // });
                // fetchPosts().then(response => {
                //     this.setState({
                //         commnets:response.commnets
                //     });
                // });
            }

            componentWillUnmount() {
                clearInterval(this.timerID);
            }
            
            tick() {
                this.setState({
                    date: new Date()
                });
                // this.setState((prevState, props) => {
                //     counter: prevState.count + props.increment
                // });
            }

            render() {
                return (
                    <div>
                        <h1>Hello, world!</h1>
                        <h2>It is {this.state.date.toLocaleTimeString()}.</h2>
                    </div>
                )
            }
        }

    // ReactDOM.render(
    //     <Clock3 />,
    //     document.getElementById('root3')
    // )



    function FormatedDate(props) {
        return <h2>It is {props.date.toLocaleTimeString()}.</h2>;
    }

    class Clock4 extends React.Component {
            constructor(props) {
                super(props);
                this.state = {date: new Date()};
                // this.state = {
                //     posts: [],
                //     comments: []
                // }
            }

            componentDidMount() {
                this.timerID = setInterval(
                    () => this.tick(),
                    1000
                );

                // fetchPosts().then(response => {
                //     this.setState({
                //         posts:response.posts
                //     });
                // });
                // fetchPosts().then(response => {
                //     this.setState({
                //         commnets:response.commnets
                //     });
                // });
            }

            componentWillUnmount() {
                clearInterval(this.timerID);
            }
            
            tick() {
                this.setState({
                    date: new Date()
                });
                // this.setState((prevState, props) => {
                //     counter: prevState.count + props.increment
                // });
            }

            render() {
                return (
                    <div>
                        <h1>Hello, world!</h1>
                        <FormatedDate date={this.state.date} />
                    </div>
                )
            }
        }

    // ReactDOM.render(
    //     <Clock4 />,
    //     document.getElementById('root4')
    // )


    function App() {
        return (
            <div>
                <Clock4 />
                <Clock4 />
                <Clock4 />
            </div>
        );
    }
    
    ReactDOM.render(
        <App />
        ,document.getElementById('root5')
    )
            
    </script>
</body>
</html>